<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Tap 3</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="logo.png"/>
    <style>
        .total {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Form Tap 3</h1>
        <form id="formTap3">
            <h2>Sample Pohon ke 3</h2>
            <h2>A. UTAMA</h2>
            <label for="lukaKayu">Luka Kayu</label>
            <select id="lukaKayu" required>
                <option value="">Pilih Luka</option>
                <option value="3">Luka Kecil (Nilai: 3)</option>
                <option value="5">Luka Sedang (Nilai: 5)</option>
                <option value="7">Luka Besar (Nilai: 7)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="kedalamansadap">Kedalaman Sadap</label>
            <select id="kedalamansadap" required>
                <option value="">Pilih Kedalaman</option>
                <option value="2">Kurang Dalam (Nilai: 2)</option>
                <option value="0">Normatif (Nilai: 0)</option>
                <option value="4">Rapat (Nilai: 4)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="pemakaiankulit">Pemakaian Kulit</label>
            <select id="pemakaiankulit" required>
                <option value="">Pilih Pemakaian</option>
                <option value="6">Boros (Nilai: 6)</option>
                <option value="10">Sangat Boros (Nilai: 10)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <h2>B. PENDUKUNG</h2>
            <label for="tehnikska">Tehnik SKA</label>
            <select id="tehnikska" required>
                <option value="">Pilih Tehnik</option>
                <option value="3">Tidak Pakai Tangga (Nilai: 3)</option>
                <option value="5">Tidak Pakai Pacekung (Nilai: 5)</option>
                <option value="7">Sotokan (Nilai: 7)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="irisansadap">Irisan Sadap</label>
            <select id="irisansadap" required>
                <option value="">Pilih Irisan</option>
                <option value="2">IMBD (Nilai: 2)</option>
                <option value="2">IMBB (Nilai: 2)</option>
                <option value="2">ITSBD (Nilai: 2)</option>
                <option value="2">ITSBB (Nilai: 2)</option>
                <option value="5">TAS (Nilai: 5)</option>
                <option value="5">TAP (Nilai: 5)</option>
                <option value="10">Tebal Tatal (Nilai: 10)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="sudutsadap">Sudut Sadap</label>
            <select id="sudutsadap" required>
                <option value="">Pilih Sudut</option>
                <option value="3">>45 Derajat (Nilai: 3)</option>
                <option value="3"><35 derajat (Nilai: 3)</option>
                <option value="2">Bergelombang (Nilai: 2)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="ambilscrap">Pengambilan Scrap</label>
            <select id="ambilscrap" required>
                <option value="">Pilih Scrap</option>
                <option value="0">Diambil (Nilai: 0)</option>
                <option value="2">Tidak Diambil (Nilai: 2)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="peralatantidaklengkap">Peralatan Tidak Lengkap</label>
            <select id="peralatantidaklengkap" required>
                <option value="">Pilih Peralatan</option>
                <option value="2">Talang (Nilai: 2)</option>
                <option value="3">Mangkok (Nilai: 3)</option>
                <option value="1">Talang Pancing (Paku) (Nilai: 1)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="kebersihanalat">Kebersihan Alat</label>
            <select id="kebersihanalat" required>
                <option value="">Pilih Alat</option>
                <option value="1">Talang (Nilai: 1)</option>
                <option value="1">Mangkok (Nilai: 1)</option>
                <option value="2">Ember Kolotan (Nilai: 2)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="pohontidakdisadap">Pohon Tidak Disadap</label>
            <select id="pohonTidakdisadap" required>
                <option value="">Pilih Pohon</option>
                <option value="10">Pohon Tidak Disadap (Nilai: 10)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="hasiltidakdipungut">Hasil Tidak Dipungut</label>
            <select id="hasiltidakdipungut" required>
                <option value="">Pilih Hasil</option>
                <option value="10">Hasil Tidak Dipungut (Nilai: 10)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <label for="talangsadapmepet">Talang Sadap Mepet</label>
            <select id="talangsadapmepet" required>
                <option value="">Pilih Hasil</option>
                <option value="1">Talang Sadap Mepet (Nilai: 1)</option>
                <option value="0">0 Kesalahan</option>
            </select>
            <div class="total"></div>
            <div class="total" id="totalSum">Total: 0</div> <!-- Tempat untuk menampilkan total -->
            <button type="submit">Simpan</button>
        </form>
    </div>
    <script src="script.js"></script>
    <script>
        // Fungsi untuk menghitung total
        function calculateTotal() {
            const selects = document.querySelectorAll('#formTap3 select'); // Seleksi elemen <select> di formTap3
            let total = 0;
    
            // Iterasi semua elemen <select> untuk menjumlahkan nilai
            selects.forEach(select => {
                const value = parseFloat(select.value);
                if (!isNaN(value)) {
                    total += value;
                }
            });
    
            // Tampilkan total di elemen dengan id 'totalSum'
            document.getElementById('totalSum').innerText = `Total: ${total}`;
        }
    
        // Tambahkan event listener untuk perubahan pada semua elemen <select>
        document.querySelectorAll('#formTap3 select').forEach(select => {
            select.addEventListener('change', calculateTotal);
        });
    
        // Event listener untuk form submit
        document.getElementById('formTap3').addEventListener('submit', function(event) {
            event.preventDefault(); // Mencegah pengiriman form default
    
            const data = {};
            const selects = document.querySelectorAll('#formTap3 select');
    
            // Ambil nilai dari semua elemen <select>
            selects.forEach(select => {
                data[select.id] = parseFloat(select.value) || 0;
            });
    
            // Simpan data ke localStorage
            localStorage.setItem('formDataTap3', JSON.stringify(data));
    
            // Arahkan ke halaman form_tap4.html
            window.location.href = 'form_tap4.html';
        });
    </script>
</body>
</html>
